<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HealthNest - Your Medical History, Secured</title>
  <link rel="stylesheet" href="./Style.css">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="./Vani.js" defer></script>
  <script src="./script.js" defer></script>
</head>
<body data-theme="light">

  <!-- PRELOADER -->
  <div id="preloader" aria-hidden="true">
    <svg class="logo-animated" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
      <path class="pulse" d="M50,5 C74.85,5 95,25.15 95,50 C95,74.85 74.85,95 50,95 C25.15,95 5,74.85 5,50 C5,25.15 25.15,5 50,5 Z"/>
      <path class="cross" d="M50 30 L50 70 M30 50 L70 50" stroke="white" stroke-width="8" stroke-linecap="round"/>
    </svg>
  </div>

  <nav class="navbar" id="navbar"> 
    <div class="logo">
      <span class="material-symbols-outlined">health_and_safety</span>
      HealthNest
    </div>
    
    <div class="nav-links">
      <a href="#home"><i class="fas fa-home"></i><span data-key="navHome">Home</span></a>
      <a href="#features"><i class="fas fa-star"></i><span data-key="featuresTitle">Features</span></a>
      <a href="#dashboard"><i class="fas fa-chart-line"></i><span data-key="navDashboard">Dashboard</span></a>
      <a href="#appointments"><i class="fas fa-calendar-alt"></i><span>Appointments</span></a>
      <a href="#queue"><i class="fas fa-list"></i><span>Queue</span></a>
      <a href="#admin" id="adminLink" style="display:none;"><i class="fas fa-cog"></i><span>Admin</span></a>
      <a href="#faq"><i class="fas fa-question-circle"></i><span data-key="faqTitle">FAQ</span></a>
    </div>
    
    <div class="search-container">
      <input type="search" id="search-bar-input" class="search-bar" placeholder="Search features, FAQs...">
    </div>
  
    <div class="nav-buttons">
      <button class="login-btn" onclick="openModal('loginModal')" data-key="navLogIn" aria-haspopup="dialog">Log In</button>
      <button class="signup-btn" onclick="openModal('signupModal')" data-key="navSignUp" aria-haspopup="dialog">Sign Up</button>
    </div>
    <div id="user-profile-icon" style="display:none;">
      <div class="profile-avatar">
        <span id="user-initials"></span>
        <img id="user-avatar-img" src="" alt="User Avatar" style="display:none;">
      </div>
    </div>
  </nav>

  <!-- HERO SECTION -->
  <header class="hero">
    <div class="hero-content">
      <h1 data-key="heroTitle">Your Health, In Your Hands.</h1>
      <p data-key="heroSubtitle">Save your entire medical history in one secure place and access it anytime, anywhere.</p>
      <div class="hero-buttons">
        <a href="#" class="cta-button" data-key="heroCTA" onclick="openModal('signupModal')">Get Started Today</a>
        <button class="appointment-button" onclick="openModal('appointmentModal')">Book Appointment</button>
      </div>
    </div>
  </header>

  <main>
    <!-- ENHANCED PROFILE SECTION -->
    <section id="user-profile" class="section" style="display:none;">
      <div class="profile-section">
        <div class="profile-header">
          <div class="profile-avatar-large">
            <span id="profile-initials-large"></span>
            <img id="profile-avatar-large" src="" alt="User Avatar" style="display:none;">
          </div>
          <div class="profile-info">
            <h2 id="profile-name-display">Ayush Harinkhere</h2>
            <p id="profile-email-display">ayushharinkhere2005@email.com</p>
            <p id="profile-phone-display" style="display:none;">üì± <span></span></p>
            <p id="profile-dob-display" style="display:none;">üìÖ <span></span></p>
            <p id="profile-gender-display" style="display:none;">üë§ <span></span></p>
          </div>
        </div>
        
        <div class="profile-details-grid">
          <div class="profile-detail-card">
            <h4>Personal Information</h4>
            <p><strong>Full Name:</strong> <span id="profile-fullname">Ayush Harinkhere</span></p>
            <p><strong>Email:</strong> <span id="profile-email">ayushharinkhere2005@email.com</span></p>
            <p><strong>Phone:</strong> <span id="profile-phone">Not provided</span></p>
            <p><strong>Date of Birth:</strong> <span id="profile-dob">10 Feb 2005</span></p>
            <p><strong>Gender:</strong> <span id="profile-gender">Male</span></p>
            <p><strong>Marital Status:</strong> <span id="profile-marital">Not provided</span></p>
            <p><strong>Occupation:</strong> <span id="profile-occupation">Not provided</span></p>
          </div>
          
          <div class="profile-detail-card">
            <h4>Medical Information</h4>
            <p><strong>Blood Group:</strong> <span id="profile-blood">Not provided</span></p>
            <p><strong>Height:</strong> <span id="profile-height">175 cm</span></p>
            <p><strong>Weight:</strong> <span id="profile-weight">52 kg</span></p>
            <p><strong>BMI:</strong> <span id="profile-bmi">17.0</span></p>
            <p><strong>Allergies:</strong> <span id="profile-allergies">None</span></p>
            <p><strong>Medical Conditions:</strong> <span id="profile-conditions">None</span></p>
            <p><strong>Medical History:</strong> <span id="profile-history">Not provided</span></p>
          </div>
          
          <div class="profile-detail-card">
            <h4>Contact & Address</h4>
            <p><strong>Emergency Contact:</strong> <span id="profile-emergency">Not provided</span></p>
            <p><strong>Address:</strong> <span id="profile-address">Not provided</span></p>
            <p><strong>City:</strong> <span id="profile-city">Not provided</span></p>
            <p><strong>State:</strong> <span id="profile-state">Not provided</span></p>
            <p><strong>Pincode:</strong> <span id="profile-pincode">Not provided</span></p>
          </div>
          
          <div class="profile-detail-card">
            <h4>Insurance Information</h4>
            <p><strong>Insurance Provider:</strong> <span id="profile-insurance">Not provided</span></p>
            <p><strong>Policy Number:</strong> <span id="profile-policy">Not provided</span></p>
            <p><strong>Coverage Type:</strong> <span id="profile-coverage">Not provided</span></p>
            <p><strong>Valid Till:</strong> <span id="profile-validity">Not provided</span></p>
          </div>
        </div>
        
        <div class="profile-actions">
          <button class="cta-button" onclick="openModal('editProfileModal')">
            <i class="fas fa-edit"></i> Edit Profile
          </button>
          <button class="login-btn" onclick="openModal('appointmentModal')">
            <i class="fas fa-calendar-alt"></i> Book Appointment
          </button>
          <button class="signup-btn" onclick="downloadHealthReport()">
            <i class="fas fa-download"></i> Download Health Report
          </button>
        </div>
      </div>
    </section>

    <!-- ENHANCED APPOINTMENT SECTION -->
    <section id="appointment-section" class="section" style="display:none;">
      <div class="appointment-section">
        <div class="appointment-header">
          <h2>Book Your Appointment</h2>
          <p>Schedule your appointment with our expert doctors easily and conveniently</p>
        </div>
        
        <div class="appointment-features">
          <div class="appointment-feature">
            <div class="icon">üë®‚Äç‚öïÔ∏è</div>
            <h4>Expert Doctors</h4>
            <p>Consult with experienced medical professionals</p>
          </div>
          <div class="appointment-feature">
            <div class="icon">üìÖ</div>
            <h4>Flexible Scheduling</h4>
            <p>Choose time slots that work best for you</p>
          </div>
          <div class="appointment-feature">
            <div class="icon">üè•</div>
            <h4>Multiple Specialties</h4>
            <p>Access various medical specialties</p>
          </div>
          <div class="appointment-feature">
            <div class="icon">üíä</div>
            <h4>Prescription Support</h4>
            <p>Get digital prescriptions instantly</p>
          </div>
        </div>
        
        <div class="appointment-actions">
          <button class="cta-button" onclick="openModal('appointmentModal')">
            <i class="fas fa-calendar-plus"></i> Book New Appointment
          </button>
          <button class="login-btn" onclick="viewAppointments()">
            <i class="fas fa-list"></i> View My Appointments
          </button>
          <button class="signup-btn" onclick="openModal('doctorAvailabilityModal')">
            <i class="fas fa-user-md"></i> Check Doctor Availability
          </button>
        </div>
      </div>
    </section>

    <!-- FEATURES SECTION -->
    <section id="features" class="section">
      <h2 class="section-title" data-key="featuresTitle">Key Features</h2>
      <div class="features-container">
        <div class="features-grid" id="features-grid">
          <div class="feature-card" data-searchable="health timeline">
            <span class="material-symbols-outlined">timeline</span>
            <h3 data-key="feature1Title">Health Timeline</h3>
            <p data-key="feature1Desc">View every health event in chronological order.</p>
          </div>
          <div class="feature-card" data-searchable="document upload">
            <span class="material-symbols-outlined">upload_file</span>
            <h3 data-key="feature2Title">Document Upload</h3>
            <p data-key="feature2Desc">Securely upload all your medical reports and prescriptions.</p>
          </div>
          <div class="feature-card" data-searchable="share with doctor">
            <span class="material-symbols-outlined">share</span>
            <h3 data-key="feature3Title">Share with Doctor</h3>
            <p data-key="feature3Desc">Give doctors secure permission to view your health history.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- DASHBOARD SECTION -->
    <section id="dashboard" class="section">
      <h2 class="section-title" data-key="navDashboard">Your Health Dashboard</h2>
      <div class="dashboard-grid">
        <div id="bp-card" class="dashboard-card">
          <h4><i class="fas fa-heartbeat" style="color: #e74c3c;"></i> Blood Pressure</h4>
          <p><span class="value">128/80</span><span class="unit">mmHg</span></p>
        </div>
        <div id="sugar-card" class="dashboard-card">
          <h4><i class="fas fa-tint" style="color: #f1c40f;"></i> Sugar Level</h4>
          <p><span class="value">95</span><span class="unit">mg/dL</span></p>
        </div>
        <div id="hr-card" class="dashboard-card">
          <h4><i class="fas fa-chart-line" style="color: #3498db;"></i> Heart Rate</h4>
          <p><span class="value">80</span><span class="unit">BPM</span></p>
        </div>
        <div id="bmi-card" class="dashboard-card">
          <h4><i class="fas fa-weight" style="color: #2ecc71;"></i> BMI</h4>
          <p><span class="value">23.5</span><span class="unit">kg/m¬≤</span></p>
        </div>
      </div>
      <div class="dashboard-container" style="margin-top: 2rem;">
        <canvas id="healthChart" aria-label="Health metrics chart" role="img"></canvas>
      </div>
    </section>

    <!-- APPOINTMENTS SECTION -->
    <section id="appointments" class="section">
      <h2 class="section-title">Book Your Appointment</h2>
      <div class="appointment-info">
        <p>Schedule with our experienced doctors and specialists.</p>
        <button class="cta-button" onclick="openModal('appointmentModal')"><i class="fas fa-calendar-plus"></i> Book Appointment</button>
      </div>
      <div id="appointmentsList" style="margin-top: 2rem;">
        <h3>Your Appointments</h3>
        <div class="appointment-cards" id="appointmentCardsContainer"></div>
      </div>
    </section>

    <!-- QUEUE SECTION -->
    <section id="queue" class="section">
      <h2 class="section-title">Hospital Queue & Status</h2>
      <div class="queue-info-container">
        <div class="queue-card">
          <h3>Your Queue Status</h3>
          <div class="queue-status">
            <p>Token: <span id="queueToken" class="token-number">--</span></p>
            <p>Position: <span id="queuePosition" class="position-number">--</span> in queue</p>
            <p>Estimated Wait: <span id="waitTime">--</span></p>
          </div>
        </div>
        <div class="queue-card">
          <h3>Hospital Crowd Meter</h3>
          <div class="crowd-meter">
            <div class="crowd-bar">
              <div class="crowd-fill" id="crowdLevel" style="width: 45%;"></div>
            </div>
            <p>Current Occupancy: <span id="crowdPercentage">45</span>%</p>
          </div>
        </div>
      </div>
      <div class="queue-display" style="margin-top: 2rem;">
        <h3>Live Queue Display</h3>
        <div class="queue-board">
          <div class="current-token">Now Serving: <span id="currentToken">A001</span></div>
          <div class="next-tokens">
            <h4>Next to be called:</h4>
            <ul id="nextTokensList" class="next-tokens-list">
              <li>A002</li>
              <li>A003</li>
              <li>A004</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- DOCTOR AVAILABILITY SECTION -->
    <section id="doctors" class="section">
      <h2 class="section-title">Doctor Availability</h2>
      <div class="doctors-grid" id="doctorsGrid"></div>
    </section>

    <!-- ADMIN & HOSPITAL AUTHORITY DASHBOARD -->
    <section id="admin" class="section" style="display:none;">
      <h2 class="section-title">Admin & Hospital Authority Dashboard</h2>
      <div class="admin-dashboard-container">
        <div class="admin-tabs">
          <button class="admin-tab-btn active" onclick="switchAdminTab('overview')">Overview</button>
          <button class="admin-tab-btn" onclick="switchAdminTab('patients')">Patients</button>
          <button class="admin-tab-btn" onclick="switchAdminTab('doctors')">Doctors</button>
          <button class="admin-tab-btn" onclick="switchAdminTab('appointments')">Appointments</button>
          <button class="admin-tab-btn" onclick="switchAdminTab('emergency')">Emergency</button>
          <button class="admin-tab-btn" onclick="switchAdminTab('analytics')">Analytics</button>
        </div>
        
        <div id="admin-overview" class="admin-tab-content">
          <div class="admin-stats-grid">
            <div class="admin-stat-card">
              <h3>Total Patients</h3>
              <p class="stat-number">1,234</p>
              <span class="stat-change positive">+12% this month</span>
            </div>
            <div class="admin-stat-card">
              <h3>Active Doctors</h3>
              <p class="stat-number">45</p>
              <span class="stat-change positive">+3 this week</span>
            </div>
            <div class="admin-stat-card">
              <h3>Today's Appointments</h3>
              <p class="stat-number">89</p>
              <span class="stat-change neutral">85% completion</span>
            </div>
            <div class="admin-stat-card">
              <h3>Emergency Cases</h3>
              <p class="stat-number">7</p>
              <span class="stat-change negative">2 critical</span>
            </div>
          </div>
        </div>
        
        <div id="admin-patients" class="admin-tab-content" style="display:none;">
          <h3>Patient Management</h3>
          <div class="admin-controls">
            <input type="text" placeholder="Search patients..." class="admin-search">
            <button class="cta-button" onclick="openModal('registerPatientModal')">
              <i class="fas fa-user-plus"></i> Register New Patient
            </button>
          </div>
          <table class="admin-table">
            <thead>
              <tr>
                <th>Patient ID</th>
                <th>Name</th>
                <th>Age</th>
                <th>Blood Group</th>
                <th>Contact</th>
                <th>Last Visit</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="patientsTableBody">
              <!-- Patient data will be populated here -->
            </tbody>
          </table>
        </div>
        
        <div id="admin-doctors" class="admin-tab-content" style="display:none;">
          <h3>Doctor Management</h3>
          <div class="admin-controls">
            <input type="text" placeholder="Search doctors..." class="admin-search">
            <button class="cta-button" onclick="openModal('addDoctorModal')">
              <i class="fas fa-user-md"></i> Add Doctor
            </button>
          </div>
          <table class="admin-table">
            <thead>
              <tr>
                <th>Doctor ID</th>
                <th>Name</th>
                <th>Specialization</th>
                <th>Status</th>
                <th>Patients Today</th>
                <th>Contact</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="doctorsTableBody">
              <!-- Doctor data will be populated here -->
            </tbody>
          </table>
        </div>
        
        <div id="admin-appointments" class="admin-tab-content" style="display:none;">
          <h3>Appointment Management</h3>
          <div class="admin-controls">
            <input type="date" id="adminDateFilter" class="admin-search">
            <button class="cta-button" onclick="filterAppointments()">Filter</button>
          </div>
          <table class="admin-table">
            <thead>
              <tr>
                <th>Appointment ID</th>
                <th>Patient</th>
                <th>Doctor</th>
                <th>Date</th>
                <th>Time</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="appointmentsTableBody">
              <!-- Appointment data will be populated here -->
            </tbody>
          </table>
        </div>
        
        <div id="admin-emergency" class="admin-tab-content" style="display:none;">
          <h3>Emergency Cases Management</h3>
          <div class="emergency-alerts">
            <div class="alert-card critical">
              <h4>üö® Critical Emergency</h4>
              <p>Patient: John Doe - Chest Pain</p>
              <p>Time: 2 mins ago</p>
              <button class="emergency-btn">Respond Now</button>
            </div>
            <div class="alert-card urgent">
              <h4>‚ö†Ô∏è Urgent</h4>
              <p>Patient: Jane Smith - Fracture</p>
              <p>Time: 15 mins ago</p>
              <button class="urgent-btn">View Details</button>
            </div>
          </div>
        </div>
        
        <div id="admin-analytics" class="admin-tab-content" style="display:none;">
          <h3>Hospital Analytics</h3>
          <div class="analytics-grid">
            <div class="chart-container">
              <h4>Patient Flow</h4>
              <canvas id="patientFlowChart"></canvas>
            </div>
            <div class="chart-container">
              <h4>Department Performance</h4>
              <canvas id="departmentChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ SECTION -->
    <section id="faq" class="section">
      <h2 class="section-title" data-key="faqTitle">Frequently Asked Questions</h2>
      <div class="faq-accordion">
        <div class="faq-item" data-searchable="what is healthnest">
          <button class="faq-question" aria-expanded="false">
            <span data-key="faq1Question">What is HealthNest?</span>
            <span class="material-symbols-outlined">expand_more</span>
          </button>
          <div class="faq-answer">
            <p data-key="faq1Answer">HealthNest is a digital platform where you can securely store all your medical information.</p>
          </div>
        </div>
        <div class="faq-item" data-searchable="is data secure">
          <button class="faq-question" aria-expanded="false">
            <span data-key="faq2Question">Is my data secure?</span>
            <span class="material-symbols-outlined">expand_more</span>
          </button>
          <div class="faq-answer">
            <p data-key="faq2Answer">Yes, we use highest standards with end-to-end encryption. Only you can see your data.</p>
          </div>
        </div>
        <div class="faq-item" data-searchable="how to use">
          <button class="faq-question" aria-expanded="false">
            <span data-key="faq3Question">How can I use it?</span>
            <span class="material-symbols-outlined">expand_more</span>
          </button>
          <div class="faq-answer">
            <p data-key="faq3Answer">Sign up and start adding your health information. Access it anytime to show your doctor.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- NEWSLETTER SECTION -->
    <section class="newsletter">
      <h2 data-key="newsletterTitle">Stay Updated!</h2>
      <p data-key="newsletterSubtitle">Subscribe to our newsletter for latest news and updates.</p>
      <form onsubmit="handleSubscription(event)">
        <input type="email" placeholder="Your Email" required>
        <button type="submit" class="btn signup-btn">Subscribe</button>
      </form>
    </section>
  </main>

  <!-- FOOTER -->
  <footer id="contact">
    <p>
      <b data-key="footerRights">&copy; 2026 HealthNest. All rights reserved.</b> |
      <a href="#" onclick="openModal('privacyPolicyModal')" data-key="footerPrivacy">Privacy Policy</a> |
      <a href="#" onclick="openModal('termsOfServiceModal')" data-key="footerTerms">Terms of Service</a>
    </p>
    <div class="social-media-links">
      <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
      <a href="#" title="Facebook"><i class="fab fa-facebook"></i></a>
      <a href="#" title="YouTube"><i class="fab fa-youtube"></i></a>
      <a href="#" title="Twitter"><i class="fab fa-twitter"></i></a>
    </div>
    <button class="logout-btn" id="logoutBtn"><i class="fas fa-sign-out-alt"></i><span>Logout</span></button>
  </footer>

  <!-- ===== MODALS ===== -->

  <!-- LOGIN MODAL -->
  <div id="loginModal" class="modal-overlay" role="dialog" aria-labelledby="loginTitle" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="loginTitle" data-key="loginTitle">Welcome Back</h2>
        <button class="modal-close-btn" onclick="closeModal('loginModal')">&times;</button>
      </div>
      <form onsubmit="handleLogin(event)">
        <label for="login-email" data-key="emailLabel">Email</label>
        <input type="email" id="login-email" class="modal-input" placeholder="your@email.com" required>
        
        <label for="login-password" data-key="passwordLabel">Password</label>
        <div class="password-input-container">
          <input type="password" id="login-password" class="modal-input password-input" placeholder="Enter your password" required>
          <button type="button" class="password-toggle-btn" onclick="togglePassword('login-password')">
            <span class="password-icon">üëÅÔ∏è</span>
          </button>
        </div>
        
        <div class="form-options">
          <label>
            <input type="checkbox" id="rememberMe">
            <span data-key="rememberMe">Remember Me</span>
          </label>
          <a href="#" class="forgot-password" data-key="forgotPassword">Forgot Password?</a>
        </div>
        
        <div class="social-login-divider">
          <span>OR</span>
        </div>
        
        <div class="social-login-grid">
          <button class="social-btn google-btn" onclick="socialLogin('google')">
            <svg width="20" height="20" viewBox="0 0 24 24">
              <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
              <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
              <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
              <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
            </svg>
            Google
          </button>
          
          <button class="social-btn facebook-btn" onclick="socialLogin('facebook')">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="#1877F2">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
            Facebook
          </button>
          
          <button class="social-btn apple-btn" onclick="socialLogin('apple')">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="#000">
              <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
            </svg>
            Apple
          </button>
          
          <button class="social-btn microsoft-btn" onclick="socialLogin('microsoft')">
            <svg width="20" height="20" viewBox="0 0 24 24">
              <rect x="2" y="2" width="9" height="9" fill="#f25022"/>
              <rect x="13" y="2" width="9" height="9" fill="#7fba00"/>
              <rect x="2" y="13" width="9" height="9" fill="#00a4ef"/>
              <rect x="13" y="13" width="9" height="9" fill="#ffb900"/>
            </svg>
            Microsoft
          </button>
        </div>
        
        <button type="submit" class="cta-button" data-key="loginBtn">Log In</button>
      </form>
      
      <p class="modal-footer-text" data-key="signupPrompt">Don't have an account? <a href="#" onclick="switchToSignup()">Sign Up</a></p>
    </div>
  </div>

  <!-- SIGNUP MODAL -->
  <div id="signupModal" class="modal-overlay" role="dialog" aria-labelledby="signupTitle" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="signupTitle" data-key="signupTitle">Create Account</h2>
        <button class="modal-close-btn" onclick="closeModal('signupModal')">&times;</button>
      </div>
      <form onsubmit="handleSignup(event)">
        <label for="signup-name" data-key="nameLabel">Full Name</label>
        <input type="text" id="signup-name" class="modal-input" placeholder="John Doe" required>
        
        <label for="signup-email" data-key="emailLabel">Email</label>
        <input type="email" id="signup-email" class="modal-input" placeholder="your@email.com" required>
        
        <label for="signup-password" data-key="passwordLabel">Password</label>
        <div class="password-input-container">
          <input type="password" id="signup-password" class="modal-input password-input" placeholder="Create a password" required>
          <button type="button" class="password-toggle-btn" onclick="togglePassword('signup-password')">
            <span class="password-icon">üëÅÔ∏è</span>
          </button>
        </div>
        
        <div class="form-options">
          <label>
            <input type="checkbox" id="agreeTerms" required>
            <span>I agree to the <a href="#" onclick="openModal('privacyPolicyModal')">Terms & Privacy Policy</a></span>
          </label>
        </div>
        
        <div class="social-login-divider">
          <span>OR</span>
        </div>
        
        <div class="social-login-grid">
          <button class="social-btn google-btn" onclick="socialLogin('google')">
            <svg width="20" height="20" viewBox="0 0 24 24">
              <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
              <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
              <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
              <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
            </svg>
            Google
          </button>
          
          <button class="social-btn facebook-btn" onclick="socialLogin('facebook')">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="#1877F2">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
            Facebook
          </button>
          
          <button class="social-btn apple-btn" onclick="socialLogin('apple')">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="#000">
              <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
            </svg>
            Apple
          </button>
          
          <button class="social-btn microsoft-btn" onclick="socialLogin('microsoft')">
            <svg width="20" height="20" viewBox="0 0 24 24">
              <rect x="2" y="2" width="9" height="9" fill="#f25022"/>
              <rect x="13" y="2" width="9" height="9" fill="#7fba00"/>
              <rect x="2" y="13" width="9" height="9" fill="#00a4ef"/>
              <rect x="13" y="13" width="9" height="9" fill="#ffb900"/>
            </svg>
            Microsoft
          </button>
        </div>
        
        <button type="submit" class="cta-button" data-key="signupBtn">Sign Up</button>
      </form>
      
      <p class="modal-footer-text" data-key="loginPrompt">Already have an account? <a href="#" onclick="switchToLogin()">Log In</a></p>
    </div>
  </div>

  <!-- EDIT PROFILE MODAL -->
  <div id="editProfileModal" class="modal-overlay" role="dialog" aria-labelledby="editProfileModalTitle" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="editProfileModalTitle" data-key="editProfileTitle">Edit Your Profile</h2>
        <button class="modal-close-btn" onclick="closeModal('editProfileModal')">&times;</button>
      </div>
      <label for="editProfilePic">Profile Picture</label>
      <input type="file" id="editProfilePic" class="modal-input" accept="image/*" onchange="previewProfilePic(event)">
      <div class="form-grid">
        <div>
          <label for="editName">Full Name</label>
          <input type="text" id="editName" class="modal-input" placeholder="Your full name" value="Ayush Harinkhere">
        </div>
        <div>
          <label for="editEmail">Email Address</label>
          <input type="email" id="editEmail" class="modal-input" placeholder="your.email@example.com" value="ayushharinkhere2005@email.com">
        </div>
      </div>
      <label for="editDob">Date of Birth</label>
      <input type="date" id="editDob" class="modal-input" value="2005-02-10">
      <label for="editGender">Gender</label>
      <select id="editGender" class="modal-select">
        <option value="Male" selected>Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
      </select>
      <div class="form-grid">
        <div>
          <label for="editHeight">Height (cm)</label>
          <input type="number" id="editHeight" class="modal-input" value="175">
        </div>
        <div>
          <label for="editWeight">Weight (kg)</label>
          <input type="number" id="editWeight" class="modal-input" value="52">
        </div>
      </div>
      <button class="cta-button" style="width:100%; margin-top: 1rem;" onclick="saveProfile()">Save Changes</button>
    </div>
  </div>

  <!-- APPOINTMENT MODAL -->
  <div id="appointmentModal" class="modal-overlay" role="dialog" aria-labelledby="appointmentTitle" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="appointmentTitle">Schedule Appointment</h2>
        <button class="modal-close-btn" onclick="closeModal('appointmentModal')">&times;</button>
      </div>
      <form onsubmit="handleAppointmentBooking(event)">
        <label>Select Doctor</label>
        <select id="doctorSelect" class="modal-input" required>
          <option value="">Choose a doctor...</option>
          <option value="dr-gupta">Dr. Rajesh Gupta - General Physician</option>
          <option value="dr-sharma">Dr. Priya Sharma - Cardiologist</option>
          <option value="dr-patel">Dr. Amit Patel - Dentist</option>
        </select>
        <label>Date</label>
        <input type="date" id="appointmentDate" class="modal-input" required>
        <label>Time Slot</label>
        <div id="timeSlots" class="time-slots-grid"></div>
        <label>Reason</label>
        <textarea class="modal-input" placeholder="Describe your symptoms..." rows="3" required></textarea>
        <button type="submit" class="cta-button" style="width:100%; margin-top: 1rem;">Confirm Appointment</button>
      </form>
    </div>
  </div>

  <!-- SMART PATIENT REGISTRATION MODAL -->
  <div id="registerPatientModal" class="modal-overlay" role="dialog" aria-labelledby="registerPatientTitle" aria-modal="true">
    <div class="modal-content admin-modal-content">
      <div class="modal-header">
        <h2 id="registerPatientTitle">Smart Patient Registration</h2>
        <button class="modal-close-btn" onclick="closeModal('registerPatientModal')">&times;</button>
      </div>
      <form onsubmit="handlePatientRegistration(event)">
        <div class="form-grid">
          <div>
            <label for="patientFirstName">First Name *</label>
            <input type="text" id="patientFirstName" class="modal-input" required>
          </div>
          <div>
            <label for="patientLastName">Last Name *</label>
            <input type="text" id="patientLastName" class="modal-input" required>
          </div>
        </div>
        
        <div class="form-grid">
          <div>
            <label for="patientEmail">Email *</label>
            <input type="email" id="patientEmail" class="modal-input" required>
          </div>
          <div>
            <label for="patientPhone">Phone *</label>
            <input type="tel" id="patientPhone" class="modal-input" required>
          </div>
        </div>
        
        <div class="form-grid">
          <div>
            <label for="patientDob">Date of Birth *</label>
            <input type="date" id="patientDob" class="modal-input" required>
          </div>
          <div>
            <label for="patientGender">Gender *</label>
            <select id="patientGender" class="modal-select" required>
              <option value="">Select Gender</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
          </div>
        </div>
        
        <div class="form-grid">
          <div>
            <label for="patientBloodGroup">Blood Group</label>
            <select id="patientBloodGroup" class="modal-select">
              <option value="">Select Blood Group</option>
              <option value="A+">A+</option>
              <option value="A-">A-</option>
              <option value="B+">B+</option>
              <option value="B-">B-</option>
              <option value="AB+">AB+</option>
              <option value="AB-">AB-</option>
              <option value="O+">O+</option>
              <option value="O-">O-</option>
            </select>
          </div>
          <div>
            <label for="patientEmergencyContact">Emergency Contact</label>
            <input type="tel" id="patientEmergencyContact" class="modal-input">
          </div>
        </div>
        
        <label for="patientAddress">Address</label>
        <textarea id="patientAddress" class="modal-input" rows="3" placeholder="Full address"></textarea>
        
        <div class="form-grid">
          <div>
            <label for="patientHeight">Height (cm)</label>
            <input type="number" id="patientHeight" class="modal-input">
          </div>
          <div>
            <label for="patientWeight">Weight (kg)</label>
            <input type="number" id="patientWeight" class="modal-input">
          </div>
        </div>
        
        <div class="form-grid">
          <div>
            <label for="patientAllergies">Known Allergies</label>
            <input type="text" id="patientAllergies" class="modal-input" placeholder="e.g., Penicillin, Peanuts">
          </div>
          <div>
            <label for="patientConditions">Existing Conditions</label>
            <input type="text" id="patientConditions" class="modal-input" placeholder="e.g., Diabetes, Hypertension">
          </div>
        </div>
        
        <label for="patientInsurance">Insurance Details</label>
        <input type="text" id="patientInsurance" class="modal-input" placeholder="Insurance provider and policy number">
        
        <div class="form-options">
          <label>
            <input type="checkbox" id="patientConsent" required>
            I consent to the storage and processing of my medical information
          </label>
        </div>
        
        <button type="submit" class="cta-button" style="width:100%; margin-top: 1rem;">
          <i class="fas fa-user-plus"></i> Register Patient
        </button>
      </form>
    </div>
  </div>

  <!-- ADD DOCTOR MODAL -->
  <div id="addDoctorModal" class="modal-overlay" role="dialog" aria-labelledby="addDoctorTitle" aria-modal="true">
    <div class="modal-content admin-modal-content">
      <div class="modal-header">
        <h2 id="addDoctorTitle">Add New Doctor</h2>
        <button class="modal-close-btn" onclick="closeModal('addDoctorModal')">&times;</button>
      </div>
      <form onsubmit="handleAddDoctor(event)">
        <div class="form-grid">
          <div>
            <label for="doctorName">Doctor Name *</label>
            <input type="text" id="doctorName" class="modal-input" required>
          </div>
          <div>
            <label for="doctorSpecialization">Specialization *</label>
            <select id="doctorSpecialization" class="modal-select" required>
              <option value="">Select Specialization</option>
              <option value="General Physician">General Physician</option>
              <option value="Cardiologist">Cardiologist</option>
              <option value="Neurologist">Neurologist</option>
              <option value="Pediatrician">Pediatrician</option>
              <option value="Orthopedic">Orthopedic</option>
              <option value="Dermatologist">Dermatologist</option>
              <option value="Psychiatrist">Psychiatrist</option>
              <option value="Gynecologist">Gynecologist</option>
            </select>
          </div>
        </div>
        
        <div class="form-grid">
          <div>
            <label for="doctorEmail">Email *</label>
            <input type="email" id="doctorEmail" class="modal-input" required>
          </div>
          <div>
            <label for="doctorPhone">Phone *</label>
            <input type="tel" id="doctorPhone" class="modal-input" required>
          </div>
        </div>
        
        <div class="form-grid">
          <div>
            <label for="doctorExperience">Experience (years)</label>
            <input type="number" id="doctorExperience" class="modal-input">
          </div>
          <div>
            <label for="doctorLicense">License Number *</label>
            <input type="text" id="doctorLicense" class="modal-input" required>
          </div>
        </div>
        
        <label for="doctorAvailability">Available Days</label>
        <div class="checkbox-group">
          <label><input type="checkbox" name="availability" value="Monday"> Monday</label>
          <label><input type="checkbox" name="availability" value="Tuesday"> Tuesday</label>
          <label><input type="checkbox" name="availability" value="Wednesday"> Wednesday</label>
          <label><input type="checkbox" name="availability" value="Thursday"> Thursday</label>
          <label><input type="checkbox" name="availability" value="Friday"> Friday</label>
          <label><input type="checkbox" name="availability" value="Saturday"> Saturday</label>
          <label><input type="checkbox" name="availability" value="Sunday"> Sunday</label>
        </div>
        
        <button type="submit" class="cta-button" style="width:100%; margin-top: 1rem;">
          <i class="fas fa-user-md"></i> Add Doctor
        </button>
      </form>
    </div>
  </div>
  <div id="privacyPolicyModal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Privacy Policy</h2>
        <button class="modal-close-btn" onclick="closeModal('privacyPolicyModal')">&times;</button>
      </div>
      <p>Your privacy is important to us. HealthNest respects your privacy regarding any information we collect from you across our website and online services.</p>
    </div>
  </div>

  <!-- TERMS OF SERVICE MODAL -->
  <div id="termsOfServiceModal" class="modal-overlay">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Terms of Service</h2>
        <button class="modal-close-btn" onclick="closeModal('termsOfServiceModal')">&times;</button>
      </div>
      <p>By accessing HealthNest, you agree to be bound by these terms and conditions. We reserve the right to make changes to our site and these legal notices at any time.</p>
    </div>
  </div>

  <!-- AI CHAT MODAL -->
  <div id="aiChatModal" class="modal-overlay" role="dialog" aria-labelledby="aiChatTitle" aria-modal="true">
    <div class="modal-content" style="max-width: 500px; height: 600px; display: flex; flex-direction: column;">
      <div class="modal-header">
        <h2 id="aiChatTitle">Vani - Health AI Assistant</h2>
        <button class="modal-close-btn" onclick="closeModal('aiChatModal')">&times;</button>
      </div>
      <div id="ai-chat-box" style="flex: 1; overflow-y: auto; padding: 1rem; background: var(--surface-dim); border-radius: 8px; margin-bottom: 1rem; display: flex; flex-direction: column;">
        <!-- Chat messages appear here -->
      </div>
      <form id="ai-chat-input-form" onsubmit="handleAIChat(event)" style="display: flex; gap: 0.5rem;">
        <input type="text" id="ai-chat-input" class="modal-input" placeholder="Ask me anything about your health..." style="flex: 1; margin: 0;">
        <button type="submit" class="cta-button" style="margin: 0; padding: 0.75rem 1.5rem;"><i class="fas fa-paper-plane"></i></button>
        <button type="button" id="ai-voice-btn" class="cta-button" style="margin: 0; padding: 0.75rem 1.5rem;" title="Voice input"><i class="fas fa-microphone"></i></button>
      </form>
    </div>
  </div>

  <!-- TOAST CONTAINER -->
  <div id="toast-container" aria-live="polite" aria-atomic="true"></div>

  <!-- FLOATING BUTTONS -->
  <div id="backButton" onclick="history.back()" title="Go Back"><i class="fas fa-arrow-left"></i></div>
  <div id="scrollUpButton" onclick="scrollToTop()" title="Scroll to Top"><i class="fas fa-angle-double-up"></i></div>
  <div id="settingsButton" onclick="toggleSettings()" title="Settings"><i class="fas fa-sliders-h"></i></div>
  <div id="aiChatButton" onclick="openModal('aiChatModal')" title="Chat with Vani AI" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); cursor: pointer;"><i class="fas fa-comments"></i></div>

  <!-- SETTINGS MENU -->
  <div id="settingsMenu" role="dialog" aria-labelledby="settingsMenuTitle">
    <h1 id="settingsMenuTitle"><b>Settings</b></h1>
    <label for="theme">Theme (Light/Dark)</label>
    <select id="theme" onchange="changeTheme(this.value)">
      <option value="light">Light</option>
      <option value="dark">Dark</option>
    </select>
    <label for="textSize">Website Size</label>
    <select id="textSize" onchange="changeTextSize(this.value)">
      <option value="15px">Small</option>
      <option value="16px" selected>Default</option>
      <option value="17px">Large</option>
      <option value="18px">Extra Large</option>
    </select>
    <label for="language">Language</label>
    <select id="language" onchange="switchLanguage(this.value)">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
    </select>
    <button onclick="updateAccount()">Update Account</button>
    <button onclick="clearStorage()">Clear Storage</button>
  </div>

</body>
</html>
